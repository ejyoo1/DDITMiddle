<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
			PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
			"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="code">

	<insert id="insertCode" parameterClass="kr.or.ddit.code.vo.CodeVO">

		INSERT INTO TB_CODE (
			GROUP_CODE
			, CODE
			, CODE_NAME
			, DESCRIPTION
			, USE_YN
		) VALUE (
			#groupCode#
			, #code#
			, #codeName#
			, #description#
			, 'Y'
		)

	</insert>

	<update id="updateCode" parameterClass="kr.or.ddit.code.vo.CodeVO">

		UPDATE TB_CODE
		SET GROUP_CODE = #groupCode#
			, CODE = #code#
			, CODE_NAME = #codeName#
			, DESCRIPTION = #description#
		WHERE 1 = 1
		AND GROUP_CODE = #groupCode#
		AND CODE = #code#

	</update>

	<!-- deleteCode지만 USE_YN을 N으로 업데이트 -->
	<update id="deleteCode" parameterClass="kr.or.ddit.code.vo.CodeVO">

		UPDATE TB_CODE
		SET USE_YN = 'N'
		WHERE 1 = 1
		AND CODE = #code#

	</update>

	<select id="getAllCodeList" parameterClass="kr.or.ddit.code.vo.CodeVO" resultClass="kr.or.ddit.code.vo.CodeVO">

		SELECT GROUP_CODE     groupCode
			 , CODE           code
			 , CODE_NAME      codeName
			 , DESCRIPTION    description
			 , USE_YN         useYn
	 	FROM TB_CODE
	 	WHERE USE_YN = 'Y'

	</select>

	<select id="getCodeList" parameterClass="java.lang.String" resultClass="kr.or.ddit.code.vo.CodeVO">

		SELECT GROUP_CODE     groupCode
			 , CODE           code
			 , CODE_NAME      codeName
			 , DESCRIPTION    description
			 , USE_YN         useYn
	 	FROM TB_CODE
	 	WHERE USE_YN = 'Y' AND GROUP_CODE = #groupCode#

	</select>

	<select id="getCode" parameterClass="kr.or.ddit.code.vo.CodeVO" resultClass="kr.or.ddit.code.vo.CodeVO">

		SELECT GROUP_CODE     groupCode
			 , CODE           code
			 , CODE_NAME      codeName
			 , DESCRIPTION    description
			 , USE_YN         useYn
	 	FROM TB_CODE
	 	WHERE 1 = 1
	 	<isNotEmpty property="code">
	 	AND CODE = #code#
	 	</isNotEmpty>

	</select>

</sqlMap>
