<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
         PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
         "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="restinfo">
	<select id="getSearchRestInfo" parameterClass="kr.or.ddit.restInfo.vo.RestInfoVO" resultClass="kr.or.ddit.restInfo.vo.RestInfoVO">
		   SELECT REST_CODE restCode 
		   		, USER_ID userId
		   		, REST_CEO_NAME restCeoName
		   		, REST_REG_NUM restRegNum
		   		, REST_TYPE restType
		   		, REST_NAME restName
		   		, REST_DISTANCE restDistance
		   		, REST_ZIP restZip
		   		, REST_ADD1 restAdd1
		   		, REST_ADD2 restAdd2
		   		, REST_TEL restTel
		   		, REST_LAT restLat
		   		, REST_LNG restLng
		   		, REST_REVIEW_CNT restReviewCnt
		   		, REST_FAV_CNT restFavCnt
		   		, REST_SCORE_AVR restScoreAvr
		   		, ATCH_FILE_ID atchFileId
		   		, ATCH_REG_ID atchRegId
		   FROM TB_REST_INFO
		   WHERE 1=1
		    <isNotEmpty property= "restDistance" prepend="AND">
		    	REST_DISTANCE = #restDistance#
		    </isNotEmpty>
		    <isNotEmpty property="restType" prepend="AND">
		    	REST_TYPE = #restType#
		    </isNotEmpty>
		    <isNotEmpty property="restName" prepend="AND">
		    	REST_NAME = #restName#
		    </isNotEmpty>
	</select>
</sqlMap>